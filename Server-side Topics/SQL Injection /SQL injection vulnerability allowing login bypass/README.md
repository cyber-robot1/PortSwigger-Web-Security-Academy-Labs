# Write-up: SQL injection vulnerability allowing login bypass

![1](https://github.com/user-attachments/assets/78fb1151-fdcb-4161-8d19-4aa4945b19a7)

Lab link: https://portswigger.net/web-security/sql-injection/lab-login-bypass

## Lab Description:
![2](https://github.com/user-attachments/assets/d01247da-3944-4054-a5b2-ebc35f566bd0)

#### Notes:
- We wanna login as administrator user .. but we don't have the password for this user.
- so we have to manipulate the original query executed by the server and avoid checking the password for that user.

## Steps:
here's the login function of that application that we target to test as the following:
![1](https://github.com/user-attachments/assets/2f69d564-5a24-4846-ba8c-86f0e4f635b9)
as we see here, we expect that the original query executed by the server will be looks like something like that: 
### Query:
```sql
SELECT * FROM users WHERE username='<USER>' AND password='<PASS>';
```
first we wanna to check if it's vulnerable to SQLi or not, we will put a single-quote to break the query and cause an error and see:
![2](https://github.com/user-attachments/assets/04c515fb-67e8-498a-9ec4-fb91813b26cd)

let's see the result: 

![2](https://github.com/user-attachments/assets/247cba6b-6281-446a-b333-d415e705de75)

we got Internal Server Error .. here the query will look like: 
```sql
SELECT * FROM users WHERE username=''' AND password = '<anything>';
```
so let's try put two single-quotes:

![2](https://github.com/user-attachments/assets/e0c8d22b-9ef4-4e3a-a792-24eca008b590)

we got Invalid username or password.

![3](https://github.com/user-attachments/assets/b6b679bb-4805-4567-bba3-08c56026a13d)







that query retrieve everything from the table users, from the columns username and password related to the user whose credentials are (USER:PASS) 
so here we can't login without knowing the password of the administrator user .. so we have to manipulate that query and avoiding checking for the password from that query 
